!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Tobii=t()}(this,function(){"use strict";I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ve(e,t){return e(t={exports:{}},t.exports),t.exports}var c,m,p,I,B,X,A=function(e){return e&&e.Math==Math&&e},e=A("object"==typeof globalThis&&globalThis)||A("object"==typeof window&&window)||A("object"==typeof self&&self)||A("object"==typeof I&&I)||Function("return this")(),t=function(e){try{return!!e()}catch{return!0}},d=!t(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Ie={}.propertyIsEnumerable,He=Object.getOwnPropertyDescriptor,Re={f:He&&!Ie.call({1:2},1)?function(e){var t=He(this,e);return!!t&&t.enumerable}:Ie},Q=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},sn={}.toString,G=function(e){return sn.call(e).slice(8,-1)},nn="".split,q=t(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==G(e)?nn.call(e,""):Object(e)}:Object,O=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},l=function(e){return q(O(e))},s=function(e){return"object"==typeof e?null!==e:"function"==typeof e},K=function(e,t){if(!s(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!s(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!s(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!s(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")},tn={}.hasOwnProperty,n=function(e,t){return tn.call(e,t)},H=e.document,Jt=s(H)&&s(H.createElement),Ne=!d&&!t(function(){return 7!=Object.defineProperty((e="div",Jt?H.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),ze=Object.getOwnPropertyDescriptor,se={f:d?ze:function(e,t){if(e=l(e),t=K(t,!0),Ne)try{return ze(e,t)}catch{}if(n(e,t))return Q(!Re.f.call(e,t),e[t])}},j=function(e){if(!s(e))throw TypeError(String(e)+" is not an object");return e},Fe=Object.defineProperty,F={f:d?Fe:function(e,t,n){if(j(e),t=K(t,!0),j(n),Ne)try{return Fe(e,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a=d?function(e,t,n){return F.f(e,t,Q(1,n))}:function(e,t,n){return e[t]=n,e},T=function(t,n){try{a(e,t,n)}catch{e[t]=n}return n},w=e["__core-js_shared__"]||T("__core-js_shared__",{}),Xt=Function.toString,be,en;"function"!=typeof w.inspectSource&&(w.inspectSource=function(e){return Xt.call(e)});var g,x,S,N,Ae=w.inspectSource,Ee=e.WeakMap,Yt="function"==typeof Ee&&/native code/.test(Ae(Ee)),xe=Ve(function(e){(e.exports=function(e,t){return w[e]||(w[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),Ke=0,qt=Math.random(),ye=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Ke+qt).toString(36)},fe=xe("keys"),ue={},Kt=e.WeakMap;if(Yt){var u=new Kt,$t=u.get,Vt=u.has,Bt=u.set;S=function(e,t){return Bt.call(u,e,t),t},g=function(e){return $t.call(u,e)||{}},x=function(e){return Vt.call(u,e)}}else c=fe[N="state"]||(fe[N]=ye(N)),ue[c]=!0,S=function(e,t){return a(e,c,t),t},g=function(e){return n(e,c)?e[c]:{}},x=function(e){return n(e,c)};var h,k,re={set:S,get:g,has:x,enforce:function(e){return x(e)?g(e):S(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=g(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ee=Ve(function(t){var s=re.get,o=re.enforce,i=String(String).split("String");(t.exports=function(t,s,r,c){var d=!!c&&!!c.unsafe,l=!!c&&!!c.enumerable,u=!!c&&!!c.noTargetGet;"function"==typeof r&&("string"!=typeof s||n(r,"name")||a(r,"name",s),o(r).source=i.join("string"==typeof s?s:"")),t!==e?(d?!u&&t[s]&&(l=!0):delete t[s],l?t[s]=r:a(t,s,r)):l?t[s]=r:T(s,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||Ae(this)})}),te=e,ae=function(e){return"function"==typeof e?e:void 0},oe=function(t,n){return arguments.length<2?ae(te[t])||ae(e[t]):te[t]&&te[t][n]||e[t]&&e[t][n]},It=Math.ceil,Ht=Math.floor,ne=function(e){return isNaN(e=+e)?0:(e>0?Ht:It)(e)},Rt=Math.min,v=function(e){return e>0?Rt(ne(e),9007199254740991):0},Lt=Math.max,Nt=Math.min,W=function(e,t){var n=ne(e);return n<0?Lt(n+t,0):Nt(n,t)},he=function(e){return function(t,n,s){var r,i=l(t),a=v(i.length),o=W(s,a);if(e&&n!=n){for(;a>o;)if((r=i[o++])!=r)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return!e&&-1}},me={includes:he(!0),indexOf:he(!1)},Dt=me.indexOf,pe=function(e,t){var s,i=l(e),a=0,o=[];for(s in i)!n(ue,s)&&n(i,s)&&o.push(s);for(;t.length>a;)n(i,s=t[a++])&&(~Dt(o,s)||o.push(s));return o},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zt=ge.concat("length","prototype"),Tt={f:Object.getOwnPropertyNames||function(e){return pe(e,zt)}},Mt={f:Object.getOwnPropertySymbols},At=oe("Reflect","ownKeys")||function(e){var t=Tt.f(j(e)),n=Mt.f;return n?t.concat(n(e)):t},vt=function(e,t){for(var s,i=At(t),a=F.f,r=se.f,o=0;o<i.length;o++)s=i[o],n(e,s)||a(e,s,r(t,s))},gt=/#|\.prototype\./,b=function(e,n){var s=dt[ft(e)];return s==it||s!=at&&("function"==typeof n?t(n):!!n)},ft=b.normalize=function(e){return String(e).replace(gt,".").toLowerCase()},dt=b.data={},at=b.NATIVE="N",it=b.POLYFILL="P",ot=b,nt=se.f,o=function(t,n){var s,o,i,r,l,c=t.target,d=t.global,u=t.stat;if(r=d?e:u?e[c]||T(c,{}):(e[c]||{}).prototype)for(s in n){if(i=n[s],o=t.noTargetGet?(l=nt(r,s))&&l.value:r[s],!ot(d?s:c+(u?".":"#")+s,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;vt(i,o)}(t.sham||o&&o.sham)&&a(i,"sham",!0),ee(r,s,i,t)}},_=Array.isArray||function(e){return"Array"==G(e)},D=function(e){return Object(O(e))},R=function(e,t,n){var s=K(t);s in e?F.f(e,s,Q(0,n)):e[s]=n},De=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())}),tt=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,E=xe("wks"),f=e.Symbol,Ge=tt?f:f&&f.withoutSetter||ye,r=function(e){return n(E,e)||(De&&n(f,e)?E[e]=f[e]:E[e]=Ge("Symbol."+e)),E[e]},Ye=r("species"),Be=function(e,t){var n;return _(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!_(n.prototype)?s(n)&&null===(n=n[Ye])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},J=oe("navigator","userAgent")||"",$e=e.process,We=$e&&$e.versions,Ue=We&&We.v8;Ue?k=(h=Ue.split("."))[0]+h[1]:J&&(!(h=J.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=J.match(/Chrome\/(\d+)/))&&(k=h[1]);var Te=k&&+k,qe=r("species"),Z=function(e){return Te>=51||!t(function(){var t=[];return(t.constructor={})[qe]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Pe=r("isConcatSpreadable"),Xe=Te>=51||!t(function(){var e=[];return e[Pe]=!1,e.concat()[0]!==e}),Qe=Z("concat"),Ze=function(e){if(!s(e))return!1;var t=e[Pe];return void 0!==t?!!t:_(e)};o({target:"Array",proto:!0,forced:!Xe||!Qe},{concat:function(){var n,s,o,a,r,c=D(this),i=Be(c,0),t=0;for(n=-1,a=arguments.length;n<a;n++)if(Ze(o=-1===n?c:arguments[n])){if(t+(r=v(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(s=0;s<r;s++,t++)s in o&&R(i,t,o[s])}else{if(t>=9007199254740991)throw TypeError("Maximum allowed index exceeded");R(i,t++,o)}return i.length=t,i}});var Je=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,o){return e.call(t,n,s,o)}}return function(){return e.apply(t,arguments)}},et=[].push,i=function(e){var n=1==e,o=2==e,i=3==e,t=4==e,s=6==e,a=5==e||s;return function(r,c,l,d){for(var h,m,g=D(r),f=q(g),y=Je(c,l,3),b=v(f.length),u=0,j=d||Be,p=n?j(r,b):o?j(r,0):void 0;b>u;u++)if((a||u in f)&&(m=y(h=f[u],u,g),e))if(n)p[u]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return u;case 2:et.call(p,h)}else if(t)return!1;return s?-1:i||t?t:p}},Se={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6)},st=Object.defineProperty,L={},ke=function(e){throw e},C=function(e,s){if(n(L,e))return L[e];s||(s={});var o=[][e],i=!!n(s,"ACCESSORS")&&s.ACCESSORS,a=n(s,0)?s[0]:ke,r=n(s,1)?s[1]:void 0;return L[e]=!!o&&!t(function(){if(i&&!d)return!0;var e={length:-1};i?st(e,1,{enumerable:!0,get:ke}):e[1]=1,o.call(e,a,r)})},rt=Se.filter,ct=Z("filter"),lt=C("filter");o({target:"Array",proto:!0,forced:!ct||!lt},{filter:function(e){return rt(this,e,arguments.length>1?arguments[1]:void 0)}});var P=function(e,n){var s=[][e];return!!s&&t(function(){s.call(null,n||function(){throw 1},1)})},ut=Se.forEach,ht=P("forEach"),mt=C("forEach"),y=ht&&mt?[].forEach:function(e){return ut(this,e,arguments.length>1?arguments[1]:void 0)};o({target:"Array",proto:!0,forced:[].forEach!=y},{forEach:y});var pt=me.indexOf,we=[].indexOf,_e=!!we&&1/[1].indexOf(1,-0)<0,bt=P("indexOf"),jt=C("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:_e||!bt||!jt},{indexOf:function(e){return _e?we.apply(this,arguments)||0:pt(this,e,arguments.length>1?arguments[1]:void 0)}});var yt=[].join,_t=q!=Object,wt=P("join",",");o({target:"Array",proto:!0,forced:_t||!wt},{join:function(e){return yt.call(l(this),void 0===e?",":e)}});var Ot=Z("slice"),xt=C("slice",{ACCESSORS:!0,0:0,1:2}),Ct=r("species"),Et=[].slice,kt=Math.max;o({target:"Array",proto:!0,forced:!Ot||!xt},{slice:function(e,t){var n,a,r,o=l(this),c=v(o.length),i=W(e,c),d=W(void 0===t?c:t,c);if(_(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!_(n.prototype)?s(n)&&null===(n=n[Ct])&&(n=void 0):n=void 0,n===Array||void 0===n))return Et.call(o,i,d);for(a=new(void 0===n?Array:n)(kt(d-i,0)),r=0;i<d;i++,r++)i in o&&R(a,r,o[i]);return a.length=r,a}});var V=Object.keys||function(e){return pe(e,ge)},St=Re.f,je=function(e){return function(t){for(var n,s=l(t),o=V(s),r=o.length,i=0,a=[];r>i;)n=o[i++],d&&!St.call(s,n)||a.push(e?[n,s[n]]:s[n]);return a}},Ft={entries:je(!0),values:je(!1)}.entries;o({target:"Object",stat:!0},{entries:function(e){return Ft(e)}}),o({target:"Object",stat:!0,forced:t(function(){V(1)})},{keys:function(e){return V(D(e))}}),be=function(){var t=j(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ve(e,t){return RegExp(e,t)}var $,U,le={UNSUPPORTED_Y:t(function(){var e=ve("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:t(function(){var e=ve("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},M=RegExp.prototype.exec,Pt=String.prototype.replace,ie=M,z=($=/a/,U=/b*/g,M.call($,"a"),M.call(U,"a"),0!==$.lastIndex||0!==U.lastIndex),ce=le.UNSUPPORTED_Y||le.BROKEN_CARET,Y=void 0!==/()??/.exec("")[1];(z||Y||ce)&&(ie=function(e){var t,s,i,d,n=this,c=ce&&n.sticky,o=be.call(n),a=n.source,l=0,r=e;return c&&(-1===(o=o.replace("y","")).indexOf("g")&&(o+="g"),r=String(e).slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&`
`!==e[n.lastIndex-1])&&(a="(?: "+a+")",r=" "+r,l++),i=new RegExp("^(?:"+a+")",o)),Y&&(i=new RegExp("^"+a+"$(?!\\s)",o)),z&&(d=n.lastIndex),t=M.call(c?i:n,r),c?t?(t.input=t.input.slice(l),t[0]=t[0].slice(l),t.index=n.lastIndex,n.lastIndex+=t[0].length):n.lastIndex=0:z&&t&&(n.lastIndex=n.global?t.index+t[0].length:d),Y&&t&&t.length>1&&Pt.call(t[0],i,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(t[s]=void 0)}),t}),p=ie,o({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p});var Wt=r("species"),Ut=!t(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),de="$0"==="a".replace(/./,"$0"),Oe=r("replace"),Ce=!!/./[Oe]&&""===/./[Oe]("a","$0"),Gt=!t(function(){var e,t=/(?:)/,n=t.exec;return t.exec=function(){return n.apply(this,arguments)},e="ab".split(t),2!==e.length||"a"!==e[0]||"b"!==e[1]}),Me=function(e){return function(t,n){var i,a,o=String(O(t)),s=ne(n),r=o.length;return s<0||s>=r?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===r||(a=o.charCodeAt(s+1))<56320||a>57343?e?o.charAt(s):i:e?o.slice(s,s+2):a-56320+(i-55296<<10)+65536}},Qt={codeAt:Me(!1),charAt:Me(!0)}.charAt,Zt=function(e,t,n){return t+(n?Qt(e,t).length:1)},Le=function(e,t){var n,s=e.exec;if("function"==typeof s){if(n=s.call(e,t),"object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==G(e))throw TypeError("RegExp#exec called on incompatible receiver");return p.call(e,t)};!function(e,n,s,o){var i=r(e),c=!t(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),u=c&&!t(function(){var n=!1,t=/a/;return"split"===e&&((t={}).constructor={},t.constructor[Wt]=function(){return t},t.flags="",t[i]=/./[i]),t.exec=function(){return n=!0,null},t[i](""),!n});if(!c||!u||"replace"===e&&(!Ut||!de||Ce)||"split"===e&&!Gt){var h=/./[i],l=s(i,""[e],function(e,t,n,s,o){return t.exec===p?c&&!o?{done:!0,value:h.call(t,n,s)}:{done:!0,value:e.call(n,t,s)}:{done:!1}},{REPLACE_KEEPS_$0:de,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ce}),m=l[0],d=l[1];ee(String.prototype,e,m),ee(RegExp.prototype,i,2==n?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}o&&a(RegExp.prototype[i],"sham",!0)}("match",1,function(e,t,n){return[function(t){var n=O(this),s=t?.[e];return void 0!==s?s.call(t,n):new RegExp(t)[e](String(n))},function(e){if(i=n(t,e,this),i.done)return i.value;var o,i,r,c,l,d,s=j(e),a=String(this);if(!s.global)return Le(s,a);l=s.unicode,s.lastIndex=0;for(r=[],o=0;null!==(d=Le(s,a));)c=String(d[0]),r[o]=c,""===c&&(s.lastIndex=Zt(a,v(s.lastIndex),l)),o++;return 0===o?null:r}]});for(en in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})if(B=e[en],m=B&&B.prototype,m&&m.forEach!==y)try{a(m,"forEach",y)}catch{m.forEach=y}return"function"!=typeof window.CustomEvent&&(X=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},X.prototype=window.Event.prototype,window.CustomEvent=X),function e(t){var f=window,he=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'],R=[],ue={gallery:[],slider:null,sliderElements:[],elementsLength:0,currentIndex:0,x:0},y=[],o={},L=0,i=null,c=null,l=null,u=null,w=null,a={},g=!1,v=!1,p=!1,V=null,N=null,A=null,D=!1,ie=!1,T=0,n={},r=null,s=null,h={image:{checkSupport:function(e){return!e.hasAttribute("data-type")&&e.href.match(/\.(png|jpe?g|tiff|tif|gif|bmp|webp|svg|ico)(\?.*)?$/i)},init:function(e,t){var a=document.createElement("figure"),n=document.createElement("figcaption"),s=document.createElement("img"),i=e.querySelector("img"),r=document.createElement("div");a.style.opacity="0",i&&(s.alt=i.alt||""),s.setAttribute("src",""),s.setAttribute("data-src",e.href),a.appendChild(s),o.captions&&("self"===o.captionsSelector&&e.getAttribute(o.captionAttribute)?n.textContent=e.getAttribute(o.captionAttribute):"img"===o.captionsSelector&&i&&i.getAttribute(o.captionAttribute)&&(n.textContent=i.getAttribute(o.captionAttribute)),n.textContent&&(n.id="tobii-figcaption-".concat(L),a.appendChild(n),s.setAttribute("aria-labelledby",n.id),++L)),t.appendChild(a),r.className="tobii__loader",r.setAttribute("role","progressbar"),r.setAttribute("aria-label",o.loadingIndicatorLabel),t.appendChild(r),t.setAttribute("data-type","image")},onPreload:function(e){h.image.onLoad(e)},onLoad:function(e){if(t=e.querySelector("img"),t.hasAttribute("data-src")){var t,n=e.querySelector("figure"),s=e.querySelector(".tobii__loader");t.onload=function(){e.removeChild(s),n.style.opacity="1"},t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src")}},onLeave:function(){},onCleanup:function(){}},html:{checkSupport:function(e){return z(e,"html")},init:function(e,t){var n=e.hasAttribute("href")?e.getAttribute("href"):e.getAttribute("data-target"),s=document.querySelector(n);if(!s)throw new Error("Ups, I can't find the target ".concat(n,"."));t.appendChild(s),t.setAttribute("data-type","html")},onPreload:function(){},onLoad:function(e){var t=e.querySelector("video");t&&(t.hasAttribute("data-time")&&t.readyState>0&&(t.currentTime=t.getAttribute("data-time")),o.autoplayVideo&&t.play())},onLeave:function(e){var t=e.querySelector("video");t&&(t.paused||t.pause(),t.readyState>0&&t.setAttribute("data-time",t.currentTime))},onCleanup:function(e){var n,t=e.querySelector("video");t&&t.readyState>0&&t.readyState<3&&t.duration!==t.currentTime&&(n=t.cloneNode(!0),re(t),t.load(),t.parentNode.removeChild(t),e.appendChild(n))}},iframe:{checkSupport:function(e){return z(e,"iframe")},init:function(e,t){var n=document.createElement("iframe"),s=e.hasAttribute("href")?e.getAttribute("href"):e.getAttribute("data-target");n.setAttribute("frameborder","0"),n.setAttribute("src",""),n.setAttribute("data-src",s),e.getAttribute("data-width")&&(n.style.maxWidth="".concat(e.getAttribute("data-width"),"px")),e.getAttribute("data-height")&&(n.style.maxHeight="".concat(e.getAttribute("data-height"),"px")),t.appendChild(n),t.setAttribute("data-type","iframe")},onPreload:function(){},onLoad:function(e){var t=e.querySelector("iframe");t.setAttribute("src",t.getAttribute("data-src"))},onLeave:function(){},onCleanup:function(){}},youtube:{checkSupport:function(e){return z(e,"youtube")},init:function(e,t){var n=document.createElement("div");t.appendChild(n),y[T]=new window.YT.Player(n,{host:"https://www.youtube-nocookie.com",height:e.getAttribute("data-height")||"360",width:e.getAttribute("data-width")||"640",videoId:e.getAttribute("data-id"),playerVars:{controls:e.getAttribute("data-controls")||1,rel:0,playsinline:1}}),t.setAttribute("data-player",T),t.setAttribute("data-type","youtube"),T++},onPreload:function(){},onLoad:function(e){o.autoplayVideo&&y[e.getAttribute("data-player")].playVideo()},onLeave:function(e){1===y[e.getAttribute("data-player")].getPlayerState()&&y[e.getAttribute("data-player")].pauseVideo()},onCleanup:function(e){1===y[e.getAttribute("data-player")].getPlayerState()&&y[e.getAttribute("data-player")].pauseVideo()}}},X=function(e){if(null===document.querySelector('[data-type="youtube"]')||ie)W(e);else{if(null===document.getElementById("iframe_api")){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.id="iframe_api",t.src="https://www.youtube.com/iframe_api",n.parentNode.insertBefore(t,n)}-1===R.indexOf(e)&&R.push(e),window.onYouTubePlayerAPIReady=function(){R.forEach(function(e){W(e)}),ie=!0}}},S=function(e){return e.hasAttribute("data-group")?e.getAttribute("data-group"):"default"},W=function(e){if(r=S(e),Object.prototype.hasOwnProperty.call(n,r)||(n[r]=(i=ue,JSON.parse(JSON.stringify(i))),de()),-1!==n[r].gallery.indexOf(e))throw new Error("Ups, element already added.");if(n[r].gallery.push(e),n[r].elementsLength++,o.zoom&&e.querySelector("img")){var i,t=document.createElement("div");t.className="tobii-zoom__icon",t.innerHTML=o.zoomText,e.classList.add("tobii-zoom"),e.appendChild(t)}e.addEventListener("click",q),me(e),d()&&r===s&&(oe(),b())},$=function(e){if(t=S(e),-1===n[t].gallery.indexOf(e))throw new Error("Ups, I can't find a slide for the element ".concat(e,"."));var t,i,a=n[t].gallery.indexOf(e),r=n[t].sliderElements[a];if(d()&&t===s&&a===n[t].currentIndex){if(1===n[t].elementsLength)throw m(),new Error("Ups, I've closed. There are no slides more to show.");0===n[t].currentIndex?O():x()}(n[t].elementsLength--,o.zoom&&e.querySelector(".tobii-zoom__icon"))&&(i=e.querySelector(".tobii-zoom__icon"),i.parentNode.classList.remove("tobii-zoom"),i.parentNode.removeChild(i)),e.removeEventListener("click",q),r.parentNode.removeChild(r)},le=function(){(i=document.createElement("div")).setAttribute("role","dialog"),i.setAttribute("aria-hidden","true"),i.classList.add("tobii"),i.classList.add(o.theme),(c=document.createElement("button")).className="tobii__btn tobii__btn--previous",c.setAttribute("type","button"),c.setAttribute("aria-label",o.navLabel[0]),c.innerHTML=o.navText[0],i.appendChild(c),(l=document.createElement("button")).className="tobii__btn tobii__btn--next",l.setAttribute("type","button"),l.setAttribute("aria-label",o.navLabel[1]),l.innerHTML=o.navText[1],i.appendChild(l),(u=document.createElement("button")).className="tobii__btn tobii__btn--close",u.setAttribute("type","button"),u.setAttribute("aria-label",o.closeLabel),u.innerHTML=o.closeText,i.appendChild(u),(w=document.createElement("div")).className="tobii__counter",i.appendChild(w),document.body.appendChild(i)},de=function(){n[r].slider=document.createElement("div"),n[r].slider.className="tobii__slider",n[r].slider.setAttribute("aria-hidden","true"),i.appendChild(n[r].slider)},me=function(e){for(s in h)if(Object.prototype.hasOwnProperty.call(h,s)&&h[s].checkSupport(e)){var s,t=document.createElement("div"),o=document.createElement("div");t.className="tobii__slide",t.style.position="absolute",t.style.left="".concat(100*n[r].x,"%"),t.setAttribute("aria-hidden","true"),h[s].init(e,o),t.appendChild(o),n[r].slider.appendChild(t),n[r].sliderElements.push(t),++n[r].x;break}},J=function(e){if(s=null!==s?s:r,d())throw new Error("Ups, I'm aleady open.");if(!d()&&(e||(e=0),-1===e||e>=n[s].elementsLength))throw new Error("Ups, I can't find slide ".concat(e,"."));o.hideScrollbar&&(document.documentElement.classList.add("tobii-is-open"),document.body.classList.add("tobii-is-open")),oe(),o.close||(u.disabled=!1,u.setAttribute("aria-hidden","true")),V=document.activeElement;var t,a=window.location.href;history.pushState({tobii:"close"},"Image",a),n[s].currentIndex=e,M(),ce(),E(n[s].currentIndex),n[s].slider.setAttribute("aria-hidden","false"),i.setAttribute("aria-hidden","false"),b(),j(n[s].currentIndex+1),j(n[s].currentIndex-1),setTimeout(function(){n[s].slider.classList.add("tobii__slider--animate")},1e3),t=new CustomEvent("open"),i.dispatchEvent(t)},m=function(){if(!d())throw new Error("Ups, I'm already closed.");o.hideScrollbar&&(document.documentElement.classList.remove("tobii-is-open"),document.body.classList.remove("tobii-is-open")),ae(),null!==history.state&&"close"===history.state.tobii&&history.back(),V.focus(),C(n[s].currentIndex),_(n[s].currentIndex),i.setAttribute("aria-hidden","true"),n[s].slider.setAttribute("aria-hidden","true"),n[s].currentIndex=0,n[s].slider.classList.remove("tobii__slider--animate")},j=function(e){if(void 0!==n[s].sliderElements[e]){var t=n[s].sliderElements[e].querySelector("[data-type]"),o=t.getAttribute("data-type");h[o].onPreload(t)}},E=function(e){if(void 0!==n[s].sliderElements[e]){var t=n[s].sliderElements[e].querySelector("[data-type]"),o=t.getAttribute("data-type");n[s].sliderElements[e].classList.add("tobii__slide--is-active"),n[s].sliderElements[e].setAttribute("aria-hidden","false"),h[o].onLoad(t)}},x=function(){if(!d())throw new Error("Ups, I'm closed.");n[s].currentIndex>0&&(C(n[s].currentIndex),E(--n[s].currentIndex),b("left"),_(n[s].currentIndex+1),j(n[s].currentIndex-1));var e=new CustomEvent("previous");i.dispatchEvent(e)},O=function(){if(!d())throw new Error("Ups, I'm closed.");n[s].currentIndex<n[s].elementsLength-1&&(C(n[s].currentIndex),E(++n[s].currentIndex),b("right"),_(n[s].currentIndex-1),j(n[s].currentIndex+1));var e=new CustomEvent("next");i.dispatchEvent(e)},C=function(e){if(void 0!==n[s].sliderElements[e]){var t=n[s].sliderElements[e].querySelector("[data-type]"),o=t.getAttribute("data-type");n[s].sliderElements[e].classList.remove("tobii__slide--is-active"),n[s].sliderElements[e].setAttribute("aria-hidden","true"),h[o].onLeave(t)}},_=function(e){if(void 0!==n[s].sliderElements[e]){var t=n[s].sliderElements[e].querySelector("[data-type]"),o=t.getAttribute("data-type");h[o].onCleanup(t)}},F=function(){N=-n[s=null!==s?s:r].currentIndex*i.offsetWidth,n[s].slider.style.transform="translate3d(".concat(N,"px, 0, 0)"),A=N},M=function(){a={startX:0,endX:0,startY:0,endY:0}},U=function(){var e=a.endX-a.startX,t=a.endY-a.startY,i=Math.abs(e),r=Math.abs(t);e>0&&i>o.threshold&&n[s].currentIndex>0?x():e<0&&i>o.threshold&&n[s].currentIndex!==n[s].elementsLength-1?O():t<0&&r>o.threshold&&o.swipeClose?m():F()},K=function(){D||(D=!0,f.requestAnimationFrame(function(){F(),D=!1}))},q=function(e){e.preventDefault(),s=S(this),J(n[s].gallery.indexOf(this))},Y=function(e){e.target===c?x():e.target===l?O():(e.target===u||!1===g&&!1===v&&e.target.classList.contains("tobii__slide")&&o.docClose)&&m(),e.stopPropagation()},G=function(e){var t=Array.prototype.slice.call(i.querySelectorAll(".tobii__btn:not([disabled]), .tobii__slide--is-active + ".concat(he.join(", .tobii__slide--is-active ")))).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}),n=t.indexOf(document.activeElement);9===e.keyCode||"Tab"===e.code?e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault()):27===e.keyCode||"Escape"===e.code?(e.preventDefault(),m()):37===e.keyCode||"ArrowLeft"===e.code?(e.preventDefault(),x()):39!==e.keyCode&&"ArrowRight"!==e.code||(e.preventDefault(),O())},P=function(e){I(e.target)||(e.stopPropagation(),g=!1,v=!1,p=!0,a.startX=e.touches[0].pageX,a.startY=e.touches[0].pageY,n[s].slider.classList.add("tobii__slider--is-dragging"))},Q=function(e){e.stopPropagation(),p&&(e.preventDefault(),a.endX=e.touches[0].pageX,a.endY=e.touches[0].pageY,se())},Z=function(e){e.stopPropagation(),p=!1,n[s].slider.classList.remove("tobii__slider--is-dragging"),a.endX&&U(),M()},H=function(e){I(e.target)||(e.preventDefault(),e.stopPropagation(),g=!1,v=!1,p=!0,a.startX=e.pageX,a.startY=e.pageY,n[s].slider.classList.add("tobii__slider--is-dragging"))},ee=function(e){e.preventDefault(),p&&(a.endX=e.pageX,a.endY=e.pageY,se())},te=function(e){e.stopPropagation(),p=!1,n[s].slider.classList.remove("tobii__slider--is-dragging"),a.endX&&U(),M()},ne=function(){p=!1},se=function(){Math.abs(a.startX-a.endX)>0&&!v&&n[s].elementsLength>1?(n[s].slider.style.transform="translate3d(".concat(A-Math.round(a.startX-a.endX),"px, 0, 0)"),g=!0,v=!1):Math.abs(a.startY-a.endY)>0&&!g&&o.swipeClose&&(n[s].slider.style.transform="translate3d(".concat(A,"px, -").concat(Math.round(a.startY-a.endY),"px, 0)"),g=!1,v=!0)},ce=function(){o.keyboard&&f.addEventListener("keydown",G),f.addEventListener("resize",K),f.addEventListener("popstate",m),i.addEventListener("click",Y),o.draggable&&(k()&&(i.addEventListener("touchstart",P),i.addEventListener("touchmove",Q),i.addEventListener("touchend",Z)),i.addEventListener("mousedown",H),i.addEventListener("mouseup",te),i.addEventListener("mousemove",ee),i.addEventListener("contextmenu",ne))},ae=function(){o.keyboard&&f.removeEventListener("keydown",G),f.removeEventListener("resize",K),f.removeEventListener("popstate",m),i.removeEventListener("click",Y),o.draggable&&(k()&&(i.removeEventListener("touchstart",P),i.removeEventListener("touchmove",Q),i.removeEventListener("touchend",Z)),i.removeEventListener("mousedown",H),i.removeEventListener("mouseup",te),i.removeEventListener("mousemove",ee),i.removeEventListener("contextmenu",ne))},z=function(e,t){return e.getAttribute("data-type")===t},re=function(e){var t=e.querySelectorAll("src");t&&t.forEach(function(e){e.setAttribute("src","")})},oe=function(){(o.draggable&&o.swipeClose&&!n[s].slider.classList.contains("tobii__slider--is-draggable")||o.draggable&&n[s].elementsLength>1&&!n[s].slider.classList.contains("tobii__slider--is-draggable"))&&n[s].slider.classList.add("tobii__slider--is-draggable"),!o.nav||1===n[s].elementsLength||"auto"===o.nav&&k()?(c.setAttribute("aria-hidden","true"),c.disabled=!0,l.setAttribute("aria-hidden","true"),l.disabled=!0):(c.setAttribute("aria-hidden","false"),c.disabled=!1,l.setAttribute("aria-hidden","false"),l.disabled=!1),o.counter&&1!==n[s].elementsLength?w.setAttribute("aria-hidden","false"):w.setAttribute("aria-hidden","true")},b=function(e){F(),w.textContent="".concat(n[s].currentIndex+1,"/").concat(n[s].elementsLength),function(e){(!0===o.nav||"auto"===o.nav)&&!k()&&n[s].elementsLength>1?(c.setAttribute("aria-hidden","true"),c.disabled=!0,l.setAttribute("aria-hidden","true"),l.disabled=!0,1===n[s].elementsLength?o.close&&u.focus():0===n[s].currentIndex?(l.setAttribute("aria-hidden","false"),l.disabled=!1,l.focus()):n[s].currentIndex===n[s].elementsLength-1?(c.setAttribute("aria-hidden","false"),c.disabled=!1,c.focus()):(c.setAttribute("aria-hidden","false"),c.disabled=!1,l.setAttribute("aria-hidden","false"),l.disabled=!1,"left"===e?c.focus():l.focus())):o.close&&u.focus()}(e)},B=function(){d()&&m(),Object.entries(n).forEach(function(e){e[1].gallery.forEach(function(e){$(e)})}),n={},r=s=null,L=0},d=function(){return"false"===i.getAttribute("aria-hidden")},k=function(){return"ontouchstart"in window},I=function(e){return-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.nodeName)||e===c||e===l||e===u};return function(e){o=function(e){var t={selector:".lightbox",captions:!0,captionsSelector:"img",captionAttribute:"alt",nav:"auto",navText:[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path stroke="none" d="M0 0h24v24H0z"/>
          <polyline points="15 6 9 12 15 18" />
        </svg>`,`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path stroke="none" d="M0 0h24v24H0z"/>
          <polyline points="9 6 15 12 9 18" />
        </svg>`],navLabel:["Previous image","Next image"],close:!0,closeText:`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path stroke="none" d="M0 0h24v24H0z"/>
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      `,closeLabel:"Close lightbox",loadingIndicatorLabel:"Image loading",counter:!0,download:!1,downloadText:"",downloadLabel:"Download image",keyboard:!0,zoom:!0,zoomText:`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path stroke="none" d="M0 0h24v24H0z"/>
          <polyline points="16 4 20 4 20 8" />
          <line x1="14" y1="10" x2="20" y2="4" />
          <polyline points="8 20 4 20 4 16" />
          <line x1="4" y1="20" x2="10" y2="14" />
          <polyline points="16 20 20 20 20 16" />
          <line x1="14" y1="14" x2="20" y2="20" />
          <polyline points="8 4 4 4 4 8" />
          <line x1="4" y1="4" x2="10" y2="10" />
        </svg>
      `,docClose:!0,swipeClose:!0,hideScrollbar:!0,draggable:!0,threshold:100,rtl:!1,loop:!1,autoplayVideo:!1,modal:!1,theme:"tobii--theme-default"};return e&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t}(e),i||le();var t=document.querySelectorAll(o.selector);if(!t)throw new Error("Ups, I can't find the selector ".concat(o.selector," on this website."));t.forEach(function(e){X(e)})}(t),e.open=J,e.previous=x,e.next=O,e.close=m,e.add=X,e.remove=$,e.reset=B,e.destroy=function(){B(),i.parentNode.removeChild(i)},e.isOpen=d,e.slidesIndex=function(){return n[s].currentIndex},e.select=function(e){var t=n[s].currentIndex;if(!d())throw new Error("Ups, I'm closed.");if(d()){if(!e&&0!==e)throw new Error("Ups, no slide specified.");if(e===n[s].currentIndex)throw new Error("Ups, slide ".concat(e," is already selected."));if(-1===e||e>=n[s].elementsLength)throw new Error("Ups, I can't find slide ".concat(e,"."))}n[s].currentIndex=e,C(t),E(e),e<t&&(b("left"),_(t),j(e-1)),e>t&&(b("right"),_(t),j(e+1))},e.slidesCount=function(){return n[s].elementsLength},e.selectGroup=function(e){if(d())throw new Error("Ups, I'm open.");if(!e)throw new Error("Ups, no group specified.");if(e&&!Object.prototype.hasOwnProperty.call(n,e))throw new Error(`Ups, I don't have a group called "`.concat(e,'".'));s=e},e.currentGroup=function(){return null!==s?s:r},e.on=function(e,t){i.addEventListener(e,t)},e.off=function(e,t){i.removeEventListener(e,t)},e}})